<!doctype html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <title>React JSX - harmony</title>
  <link href='../../css/demos.css' rel='stylesheet'>
  <link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
  <script src='../../../../bower_components/closure-library/closure/goog/base.js'></script>
  <script src='../../../../tmp/deps.js'></script>
  <script>
    goog.require('este.demos.es6.jsx.Horse');
    goog.require('este.demos.es6.jsx.Snake');
  </script>
  <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
</head>
<body>
  <h1>React JSX - harmony</h1>
  <p>
    There are a lot of various ES6 transpilers (Traceur, TypeScript,
    es6-transpiler), but none of them is easy enough to integrate with Google
    Closure Tools.
  </p>
  <p>
    The most easiest is ES6 via Facebook React JSX compiler.
    List of features is limited, still pretty useful: <a href="https://github.com/facebook/jstransform/tree/master/visitors/__tests__">features</a>.
  </p>
  <p>
    <b>Warning</b>: Google Closure Compiler advanced compilation works well, but
    static type analysis not. We have to wait for new Closure Compiler type
    inference. In the meantime, don't use constructor nor extends annotations.
  </p>
  <pre>
    <code>
    // animal.jsx
    goog.provide('app.Animal')

    app.Animal = class {
      constructor(name) {
        this.name = name
      }
      move(meters) {
        alert(`${this.name} moved ${meters}m.`)
      }
    }

    // horse.jsx
    goog.provide('app.Horse')
    goog.require('app.Animal')

    app.Horse = class extends app.Animal {
      move() {
        alert('Galloping...')
        super.move(45)
      }
    }

    // snake.jsx
    goog.provide('app.Snake')
    goog.require('app.Animal')

    app.Snake = class extends app.Animal {
      move() {
        alert('Slithering...')
        super.move(5)
      }
    }
    </code>
  </pre>
  <script>
  hljs.initHighlightingOnLoad();

  var tom = new este.demos.es6.jsx.Horse('Tommy the Palomino');
  var sam = new este.demos.es6.jsx.Snake('Sammy the Python');

  // tom.move();
  // sam.move();
  </script>
</body>